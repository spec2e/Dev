|import                |
|dk.speconsult.fixtures|

|script|dk.speconsult.fixtures.AccountHolderFixture|

|scenario|Given the account balance is|amount |
|$AMOUNT=|put account amount          |@amount|

|scenario    |And the card is valid    |
|$CREDITCARD=|put card|4327423789478239|

|scenario    |And the card is invalid|
|$CREDITCARD=|put invalid card |1234 |

|scenario            |And the machine contains|amount|
|put money in machine|@amount                        |

|scenario          |When the Account Holder requests|withdrawal |
|$DISPENSED_AMOUNT=|withdraw                        |@withdrawal|

|scenario|Then the ATM should dispense|dispense                   |
|check   |dispensed amount            |$DISPENSED_AMOUNT|@dispense|

|scenario|And the account balance should be|balance |
|check   |balance                          |@balance|



!define COLLAPSE_SETUP {true}
!define COLLAPSE_TEARDOWN {true}
